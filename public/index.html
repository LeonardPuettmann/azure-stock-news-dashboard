<!DOCTYPE html>
<html>
<head>
    <title>My Simple Webpage</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: 'Consolas', monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>Stock dashboard</h1>

    <h2>Select a ticker</h2>
    <p>
        <select id="ticker-picker">
            <option value="MSFT">MSFT</option>
            <option value="AAPL">AAPL</option>
            <option value="AVGO">AVGO</option>
            <option value="TXN">TXN</option>
            <option value="DOCN">DOCN</option>
        </select>
    </p>

    <h2>Select a Date</h2>
    <p><input type="date" id="date-picker"></p>

    <script>
        const tickerPicker = document.getElementById('ticker-picker');
        const datePicker = document.getElementById('date-picker');
    
        function fetchFile() {
            if (tickerPicker.value && datePicker.value) {
                fetch('/fetch-file/' + datePicker.value)
                    .then(response => response.json())
                    .then(data => {
                        const tickerData = data[tickerPicker.value]["texts"];
                        if (tickerData) {
                            document.getElementById('about-me').textContent = JSON.stringify(tickerData);
                        } else {
                            document.getElementById('about-me').textContent = 'No data for ' + tickerPicker.value;
                        }
                    });
            }
        }
    
        tickerPicker.addEventListener('change', fetchFile);
        datePicker.addEventListener('change', fetchFile);
    </script>
    
</body>
</html>
